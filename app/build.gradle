plugins {
    id "com.dorongold.task-tree" version "1.3"
}


import fr.androidmakers.buildsrc.Dependencies

apply plugin: 'com.android.application'
apply plugin: 'kotlin-android'
apply plugin: 'kotlin-android-extensions'

android {
    compileSdkVersion 27
    defaultConfig {
        applicationId "fr.androidmakers.rockthegradle"
        minSdkVersion 21
        targetSdkVersion 27
        versionCode 1
        versionName "1.0"
        testInstrumentationRunner "android.support.test.runner.AndroidJUnitRunner"
    }

    buildTypes {
        release {
            minifyEnabled false
            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
        }
    }

    flavorDimensions 'bundle'
    productFlavors {
        free {
            dimension 'bundle'
            applicationId "fr.androidmakers.rockthegradle.free"
        }
        full {
            dimension 'bundle'
        }
    }
}

dependencies {
    implementation Dependencies.Libraries.KotlinJre7
    implementation Dependencies.Libraries.SupportLibs
    api Dependencies.Libraries.Rx

    testImplementation Dependencies.Libraries.JUnit4
}

apply plugin: "remoteL10n"

remoteL10n {
    remoteHost = "0.0.0.0:8080"
    variants {
        debug {
            languages = ["en"]
        }
        freeRelease {
            languages = ["fr", "en", "jp"]
        }
        fullRelease {
            languages = ["fr", "en", "es", "de"]
        }
    }
}

apply plugin: "striker"